(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,a,t){e.exports=t.p+"static/media/noImage.bf426ed1.png"},27:function(e,a,t){e.exports=t(52)},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t.n(n),c=t(18),r=t.n(c),l=t(6),o=(t(40),t(8)),i=(t(41),t(3));const m="5fdecb08903428e95f9c26c85a6fac4e";t(42);var p=t(53);var g=t(22),u=t(17);t(47);var d=e=>{let{page:a,setPage:t,totalPage:n}=e,c=[];for(let s=1;s<=n;s++)Number(s),c.push(s);let r=a-1,l=a+10;return l>n&&(r=n-10,l=n),s.a.createElement("div",{className:"main_div_pagination"},a>1&&s.a.createElement(u.a,{size:"40px",color:"#cac6c6",onClick:()=>t(a-1),style:{cursor:"pointer"}}),c.slice(r,l).map((e,n)=>s.a.createElement("div",{key:n},a!==e&&a+19>=e&&s.a.createElement("span",{className:"span_numberPage_no_active",onClick:()=>t(e)},e),a===e&&s.a.createElement("span",{className:"span_numberPage_active"},e))),a!==n&&0!==n&&s.a.createElement(u.b,{size:"40px",color:"#cac6c6",onClick:()=>t(a+1),style:{cursor:"pointer"}}))},_=(t(48),t(21)),E=t.n(_);var h=e=>{let{page:a,setPage:t,totalPage:n}=e;const{movies:c}=Object(l.c)(e=>e.moviesReducer);return s.a.createElement("div",{className:"main_div"},c&&c.map(e=>s.a.createElement("div",{key:e.id,className:"div_movie"},s.a.createElement("img",{src:null===e.poster_path?E.a:"https://image.tmdb.org/t/p/w300"+e.poster_path,alt:"poster",className:"image_300"}),s.a.createElement("span",{className:"title_span"},e.title),s.a.createElement("div",{className:"date_release_rating_div"},s.a.createElement("span",{className:"date_release_span"},e.release_date),s.a.createElement("div",{className:"rating_image_div"},s.a.createElement(g.a,{color:"yellow"}),s.a.createElement("span",{className:"rating_span"},e.vote_average))))),0===n&&s.a.createElement("span",{className:"span_no_content"},"No content"),s.a.createElement("div",{className:"div_pagination"},s.a.createElement(d,{page:a,setPage:t,totalPage:n})))};t(49);const v=e=>({type:"FETCH_MOVIES",payload:e});var N=()=>{const{genres:e}=Object(l.c)(e=>e.genresReducer),{arrayChooseGenres:a}=Object(l.c)(e=>e.arrayChooseGenresReducer),t=Object(l.b)();return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"h2_genresComponent"},"Genres:"),s.a.createElement("div",{className:"main_div_genresComponent"},e&&e.map(e=>s.a.createElement("span",{className:a.filter(a=>a===e.id)[0]!==e.id?"span_genresComponent":"span_genresComponent_active",key:e.id,onClick:()=>(e=>{if(0===a.length)a.push(e);else{const t=a.filter(a=>a===e);if(0!==t.length){const e=a.indexOf(t[0]);a.splice(e,1)}else a.push(e)}t((e=>({type:"ARRAY_CHOOSE_GENRES",payload:e}))(a))})(e.id)},e.name))))};var b=()=>s.a.createElement("div",null,s.a.createElement(N,null)),y=t(24),f=t(23),C=t(9);t(50);var w=e=>{let{setSearchText:a,functionSearch:t}=e;const{isLogin:n}=Object(l.c)(e=>e.isLoginReducer),c=Object(i.o)();return s.a.createElement("header",{className:"main_header_headerComponent"},s.a.createElement("div",{className:"logo_div_headerComponent"},s.a.createElement(f.a,{size:"40px"}),s.a.createElement("span",{className:"logo_sign_span_headerComponent"},"Movies")),s.a.createElement("div",{className:"search_div_headerComponent"},s.a.createElement("input",{type:"text",placeholder:"Search...",className:"input_search_headerComponent",onChange:e=>t(e)}),s.a.createElement("div",{className:"icon_search_div_headerComponent"},s.a.createElement(y.a,{size:"30px",color:"#0f0f0f"}))),!n&&s.a.createElement("div",{className:"div_sign_in_sign_out"},s.a.createElement("span",{className:"span_main_sign_in_sign_out",onClick:()=>c("/login")},s.a.createElement(C.a,{color:"#cac6c6",size:"30px",style:{cursor:"pointer"}}),s.a.createElement("span",{className:"span_sign_in_sign_out"},"sing in"))),n&&s.a.createElement("div",{className:"div_sign_in_sign_out"},s.a.createElement("span",{className:"span_main_sign_in_sign_out",onClick:()=>{}},s.a.createElement(C.b,{color:"#cac6c6",size:"30px",style:{cursor:"pointer"}}),s.a.createElement("span",{className:"span_sign_in_sign_out"},"sing out"))))};var O=()=>{const e=Object(l.b)(),{arrayChooseGenres:a}=Object(l.c)(e=>e.arrayChooseGenresReducer),[t,c]=Object(n.useState)(""),[r,o]=Object(n.useState)(1),[i,g]=Object(n.useState)(),u=a.join();return Object(n.useEffect)(()=>{try{""===t||a.length>0?(async(e,a)=>await Object(p.a)("https://api.themoviedb.org/3/discover/movie?api_key="+m+"&with_genres=".concat(a,"&page=").concat(e)))(r,u).then(a=>{200===a.status&&(e(v(a.data.results)),g(""===u?500:a.data.total_pages))}):(async(e,a)=>await Object(p.a)("https://api.themoviedb.org/3/search/movie?query="+e+"&page=".concat(a,"&api_key=").concat(m)))(t,r).then(a=>{200===a.status&&(g(a.data.total_pages),e(v(a.data.results)))}),(async()=>await Object(p.a)("https://api.themoviedb.org/3/genre/movie/list?api_key="+m))().then(a=>{200===a.status&&e((e=>({type:"FETCH_GENRES",payload:e}))(a.data.genres))})}catch(n){console.log(n.message)}},[t,r,a.length]),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"header_mainPage"},s.a.createElement(w,{setSearchText:c,functionSearch:e=>{o(1),""===e.target.value&&o(1),c(e.target.value)}})),s.a.createElement("div",{className:"wrap"},s.a.createElement("div",{className:"navBar_mainPage"},s.a.createElement(b,null)),s.a.createElement("div",{className:"body_mainPage"},s.a.createElement(h,{page:r,setPage:o,totalPage:i}))))},j=t(25);t(51);var S=e=>{let{setFirstName:a,setLastName:t}=e;return s.a.createElement("div",null,s.a.createElement("div",{className:"div_input"},s.a.createElement("input",{type:"text",name:"firstName",placeholder:"firstName",onChange:e=>a(e.target.value),className:"input_class"})),s.a.createElement("div",{className:"div_input"},s.a.createElement("input",{type:"text",name:"lastName",placeholder:"lastName",onChange:e=>t(e.target.value),className:"input_class"})))};const k=p.a.create({baseURL:"http://localhost:5000/api"});var R=()=>{const e=Object(i.o)(),a=Object(i.m)(),[t,c]=Object(n.useState)(""),[r,l]=Object(n.useState)(""),[o,m]=Object(n.useState)(""),[p,g]=Object(n.useState)("");return s.a.createElement("div",null,s.a.createElement("div",{className:"div_buttons_home_sign_in"},s.a.createElement("button",{className:"button_home button",onClick:()=>e("/")},s.a.createElement(j.a,{size:"20px",style:{marginRight:"4px"}}),"Home"),("/registration"===a.pathname||"/forgetPassword"===a.pathname)&&s.a.createElement("button",{className:"button_sign_in_up button",onClick:()=>e("/login")},s.a.createElement(C.a,{size:"20px",style:{marginRight:"4px"}}),"Sing in")),s.a.createElement("div",{className:"main_div_form"},s.a.createElement("form",{className:"form_class"},s.a.createElement("div",{className:"div_input"},s.a.createElement("input",{type:"email",name:"email",placeholder:"example@mail.com",onChange:e=>c(e.target.value),className:"input_class"})),("/login"===a.pathname||"/registration"===a.pathname)&&s.a.createElement("div",{className:"div_input"},s.a.createElement("input",{type:"password",name:"password",placeholder:"*********",onChange:e=>l(e.target.value),className:"input_class"})),"/registration"===a.pathname&&s.a.createElement(S,{setFirstName:m,setLastName:g}),"/login"===a.pathname&&s.a.createElement("div",{className:"div_forget_password_and_registration"},s.a.createElement("span",{onClick:()=>e("/forgetPassword"),className:"span_forget_password"},"Forget password?"),s.a.createElement("span",{onClick:()=>e("/registration"),className:"span_forget_password justifyContentFlexEnd"},"No account?")),s.a.createElement("div",{className:"div_button_sign_in"},"/login"===a.pathname&&s.a.createElement("button",{className:"button_sign_in button",onClick:async()=>{try{await(async(e,a)=>await k.post("/auth/login",{email:e,password:a}))(t,r).then(e=>{200===e.status&&console.log(e)})}catch(e){console.log(e.message)}}},"sign in"),"/registration"===a.pathname&&s.a.createElement("button",{className:"button_sign_in button",onClick:async()=>{try{await(async(e,a,t,n)=>await k.post("/auth/registration",{email:e,password:a,firstName:t,lastName:n}))(t,r,o,p).then(e=>{200===e.status&&console.log(e)})}catch(e){console.log(e.message)}}},"send"),"/forgetPassword"===a.pathname&&s.a.createElement("button",{className:"button_sign_in button",onClick:async()=>{try{await(async e=>await k.post("/auth/forgetPassword",{email:e}))(t).then(e=>{200===e.status&&console.log(e)})}catch(e){console.log(e.message)}}},"send")))))};const x=[{path:"/",Component:O},{path:"/login",Component:R},{path:"/registration",Component:R},{path:"/forgetPassword",Component:R}];var P=()=>s.a.createElement(i.c,null,x.map(e=>{let{path:a,Component:t}=e;return s.a.createElement(i.a,{key:a,path:a,element:s.a.createElement(t,null),exact:!0})}));var G=function(){return s.a.createElement(o.a,null,s.a.createElement(P,null))},F=t(13);const L=Object(F.a)({moviesReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movies:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_MOVIES":return{...e,movies:[...a.payload]};default:return e}},genresReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{genres:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_GENRES":return{...e,genres:[...a.payload]};default:return e}},isLoginReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLogin:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"IS_LOGIN_USER":return{...e,isLogin:a.payload};default:return e}},arrayChooseGenresReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{arrayChooseGenres:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ARRAY_CHOOSE_GENRES":return{...e,genres:[a.payload]};default:return e}}}),z=Object(F.b)(L);r.a.createRoot(document.getElementById("root")).render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(l.a,{store:z},s.a.createElement(G,null))))}},[[27,1,2]]]);
//# sourceMappingURL=main.91b3c232.chunk.js.map